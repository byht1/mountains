{"version":3,"sources":["js/index.js"],"names":["zSpacing","opacitybg","zVals","i","Math","abs","opacity","lastPost","$frames","document","getElementsByClassName","frames","Array","from","window","onscroll","top","documentElement","scrollTop","delta","forEach","n","push","frame","transform","setAttribute","scrollTo"],"mappings":";AAAA,IAAIA,GAAY,IA6BhB,SAASC,EAAUC,EAAOF,EAAUG,GAC9BD,EAAMC,GAAKC,KAAKC,IAAIL,GAAY,GAClCM,QAAU,EAEVA,QAAU,EAGRH,GAAK,EACHD,EAAMC,EAAI,GAAKC,KAAKC,IAAIL,GAAY,KACtCM,QAAU,GACDJ,EAAMC,GAAKC,KAAKC,IAAIL,GAAY,GACzCM,QAAU,EAEVA,QAAU,EAEHH,GAAK,IACVD,EAAMC,EAAI,GAAKC,KAAKC,IAAIL,GAAY,GACtCM,QAAU,GACDJ,EAAMC,GAAKC,KAAKC,IAAIL,GAAY,GACzCM,QAAU,EAEVA,QAAU,GAjDhBC,SAAWP,EAAW,EACtBQ,QAAUC,SAASC,uBAAuB,SAC1CC,OAASC,MAAMC,KAAKL,SACpBN,MAAQ,GAERY,OAAOC,SAAW,WACZC,IAAAA,EAAMP,SAASQ,gBAAgBC,UACnCC,MAAQZ,SAAWS,EAEnBT,SAAWS,EAEXL,OAAOS,QAAQ,SAAUC,EAAGlB,GAC1BD,MAAMoB,KAAKnB,EAAIH,EAAWA,GAC1BE,MAAMC,KAAe,EAATgB,MAERI,IAAAA,EAAQZ,OAAOR,GACnBqB,wBAA0BtB,MAAMC,QAChCG,QAAU,EAEVL,EAAUC,MAAOF,EAAUG,GAG3BoB,EAAME,aAAa,sBAAuBD,uBAAuBlB,cAIrEQ,OAAOY,SAAS,EAAG","file":"js.fe673a75.js","sourceRoot":"../src","sourcesContent":["let zSpacing = -1000;\nlastPost = zSpacing / 5;\n$frames = document.getElementsByClassName('frame');\nframes = Array.from($frames);\nzVals = [];\n\nwindow.onscroll = function () {\n  let top = document.documentElement.scrollTop;\n  delta = lastPost - top;\n\n  lastPost = top;\n\n  frames.forEach(function (n, i) {\n    zVals.push(i * zSpacing + zSpacing);\n    zVals[i] += delta * -2;\n    // zVals[i] += delta * -5;  БУЛО\n    let frame = frames[i];\n    transform = `translateZ(${zVals[i]}px)`;\n    opacity = 1;\n\n    opacitybg(zVals, zSpacing, i);\n\n    // opacity = zVals[i] < Math.abs(zSpacing) / 10 ? 1 : 0;\n    frame.setAttribute('style', `transform: ${transform}; opacity: ${opacity}`);\n  });\n};\n\nwindow.scrollTo(0, 2);\n\nfunction opacitybg(zVals, zSpacing, i) {\n  if (zVals[i] > Math.abs(zSpacing) / 10) {\n    opacity = 0;\n  } else {\n    opacity = 1;\n  }\n\n  if (i >= 5) {\n    if (zVals[i - 2] < Math.abs(zSpacing) / 1.25) {\n      opacity = 0.1;\n    } else if (zVals[i] > Math.abs(zSpacing) / 10) {\n      opacity = 0;\n    } else {\n      opacity = 1;\n    }\n  } else if (i >= 4) {\n    if (zVals[i - 1] < Math.abs(zSpacing) / 10) {\n      opacity = 0.1;\n    } else if (zVals[i] > Math.abs(zSpacing) / 10) {\n      opacity = 0;\n    } else {\n      opacity = 1;\n    }\n  }\n}\n"]}